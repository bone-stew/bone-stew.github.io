---
layout: post
title: "Jasyptλ¥Ό μ΄μ©ν• Properties μ•”νΈν™”"
date: 2023-09-03 12:00:00
author: "μ„λ…ν„"
catalog: true
tags:
- backend
- encryption

---

μ•λ…•ν•μ„Έμ”, μ„λ…ν„μ…λ‹λ‹¤. π¤

μ €ν¬ ν”„λ΅μ νΈμ—μ„λ” properties νμΌμ— μ €μ¥λμ–΄ μλ” λ°μ΄ν„°λ“¤μ„ μ•”νΈν™”ν•μ—¬ μ‚¬μ©ν•κ³  μμµλ‹λ‹¤.<br>
properties νμΌμ— μ €μ¥λμ–΄ μλ” λ°μ΄ν„°λ“¤μ„ μ•”νΈν™”ν•λ” λ°©λ²•μ€ μ—¬λ¬κ°€μ§€κ°€ μμ§€λ§, μ €ν¬λ” Jasyptλ¥Ό μ΄μ©ν•μ—¬ μ•”νΈν™”λ¥Ό ν•κ³  μλ”λ°μ”.<br>
μ΄λ² ν¬μ¤ν…μ—μ„λ” Properties μ•”νΈν™”μ ν•„μ”μ„±κ³Ό Jasyptλ¥Ό μ‚¬μ©ν•κ² λ μ΄μ , λ‚΄λ¶€ λ™μ‘ μ›λ¦¬μ— λ€ν•΄ μ†κ°ν•κ² μµλ‹λ‹¤.

## λ©μ°¨ μ†κ°

μ΄λ² ν¬μ¤ν…μ€ λ‹¤μκ³Ό κ°™μ€ μμ„λ΅ μ§„ν–‰λ©λ‹λ‹¤.

1. [Properties μ•”νΈν™”κ°€ ν•„μ”ν• μ΄μ ](#1-Properties-μ•”νΈν™”κ°€-ν•„μ”ν•-μ΄μ )
2. [Spring properties μ•”νΈν™” μΆ…λ¥](#2-Spring-properties-μ•”νΈν™”-μΆ…λ¥)
3. [μ™ JasyptμΈκ°€?](#3-μ™-JasyptμΈκ°€?)
4. [Jasypt λ‚΄λ¶€ λ™μ‘ μ›λ¦¬](#4-Jasypt-λ‚΄λ¶€-λ™μ‘-μ›λ¦¬)


## 1. Properties μ•”νΈν™”κ°€ ν•„μ”ν• μ΄μ 

ν”„λ΅μ νΈ λ‚΄μ—λ” κΈ°λ³Έμ μΌλ΅ λΉ„λ°€λ²νΈλ‚ λ―Όκ°ν• μ •λ³΄λ“¤μ„ μ €μ¥ν•΄μ„λ” μ•λλ” λ°μ΄ν„°λ“¤μ΄ μ΅΄μ¬ν•©λ‹λ‹¤.<br>
κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  λ°μ΄ν„°λ² μ΄μ¤ μ ‘μ† μ •λ³΄λ‚ api key λ“±μ„ properties νμΌμ— μ €μ¥ν•λ” κ²½μ°κ°€ μλ”λ°μ”.
μ΄λ¬ν• μ”μ†λ“¤μ„ μΌλ° ν…μ¤νΈλ΅ μ €μ¥ν•λ©΄ μ•…μμ μΈ ν–‰μ„μκ°€ λΉ„λ°€λ²νΈλ¥Ό μ΄μ©ν•΄ κ³„μ •, μ‹μ¤ν… λ° λ°μ΄ν„°μ— λ€ν• λ¬΄λ‹¨ μ•΅μ„Έμ¤κ°€ λ°μƒν•μ—¬ λ³΄μ•μ— μ·¨μ•½ν•΄μ§ μ μμµλ‹λ‹¤.<br>
μ΄λ¬ν• μ΄μ λ΅ properties νμΌμ— μ €μ¥λμ–΄ μλ” λ°μ΄ν„°λ“¤μ„ μ•”νΈν™”ν•μ—¬ μ‚¬μ©ν•λ” κ²ƒμ„ κ¶μ¥ν•κ³  μμµλ‹λ‹¤.

### AWS ν‚¤ λ…Έμ¶ μ‚¬λ΅€
AWS λ¦¬μ†μ¤μ— μ ‘κ·Όν•κΈ° μ„ν•΄μ„λ” AWS Access Keyμ™€ AWS Secret Keyκ°€ ν•„μ”ν•©λ‹λ‹¤.<br>
λ€ν‘μ μΌλ΅ AWSμ—μ„λ” ν‚¤κ°€ λ…Έμ¶λμ—μ„ λ• λ©”μΌλ΅ κ²½κ³ ν•κ³  μμµλ‹λ‹¤.
<!-- μ‚¬μ§„ -->
μ΄μ™€ κ°™μ΄ λ―Όκ°ν• μ •λ³΄κ°€ λ…Έμ¶λλ‹¤λ©΄, μ•…μμ μΈ ν–‰μ„μκ°€ ν•΄λ‹Ή ν‚¤λ¥Ό μ΄μ©ν•΄ AWS λ¦¬μ†μ¤μ— μ ‘κ·Όν•μ—¬ ν”Όν•΄λ¥Ό μ…ν μ μμµλ‹λ‹¤.
μ‹¤μ λ΅ 2000λ§μ› κ³ΌκΈλ κ²½μ°λ„ μμ—λ‹¤κ³  ν•©λ‹λ‹¤. μ΄λ¬ν• λ³΄μ•μ μΈ μ„ν—μΌλ΅ μΈν•΄ ν”„λ΅μ νΈ κ°λ°μ— μμ–΄μ„ μ•”νΈν™”λ” ν•„μμ μ΄μ–΄μ•Ό ν•  κ²ƒμ…λ‹λ‹¤.

[[AWS] νμ‚¬μ—μ„ AWS access key, AWS secret key μ μ¶λ΅ 2000λ§μ› κ³ΌκΈλ μ°](https://jodmsoluth.tistory.com/2)


## 2. Spring properties μ•”νΈν™” μΆ…λ¥

Spring ν”„λ μ„μ›ν¬μ—μ„ μ£Όλ΅ μ‚¬μ©λλ” properties μ•”νΈν™” λ°©λ²•λ“¤μ„ μ„μ£Όλ΅ μ†κ°ν•κ² μµλ‹λ‹¤.

### Jasypt (Java Simplified Encryption)

Jasyptλ” λ°μ΄ν„°λ¥Ό μ‰½κ² μ•”νΈν™”ν•κ³  ν•΄λ…ν•  μ μλ” λΌμ΄λΈλ¬λ¦¬μ…λ‹λ‹¤.<br>
Jasyptλ” λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°€μ§€κ³  μμµλ‹λ‹¤.
1. κ°„λ‹¨ν• API
2. λ‹¤μ–‘ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ§€μ›
3. Spring Frameworkμ™€μ μ‰¬μ΄ ν†µν•©
4. λ¬΄λ£ μ¤ν”μ†μ¤ λΌμ΄λΈλ¬λ¦¬

### Spring Vault

Spring Vaultλ” HashiCorp Vaultλ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  κ²€μƒ‰ν•  μ μλ” λΌμ΄λΈλ¬λ¦¬μ…λ‹λ‹¤.<br>
λ―Όκ°ν• μ •λ³΄λ¥Ό μ•μ „ν•κ² λ³΄κ΄€ν•κ³  μ•”νΈν™”ν•λ” λ„κµ¬λ΅ Springκ³Ό ν†µν•©ν•  μ μμµλ‹λ‹¤.<br>
Spring Vaultλ” λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°€μ§€κ³  μμµλ‹λ‹¤.
1. μ ‘κ·Ό κ¶ν• λ° λ³΄μ• κ΄€λ¦¬μ— μ¤‘μ μ„ λ‘μ–΄ λ³΄μ•μ„±μ΄ μ°μ
2. λ‹¤μ–‘ν• μΈν”„λΌμ™€μ ν†µν•©

### Spring Cloud Config

μ¤‘μ•™ μ§‘μ¤‘μ‹ κµ¬μ„± κ΄€λ¦¬ μ‹μ¤ν…μΌλ΅ Spring μ• ν”λ¦¬μΌ€μ΄μ…μ ν”„λ΅νΌν‹°λ¥Ό μ¤‘μ•™ μ§‘μ¤‘μ‹μΌλ΅ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.<br>
Spring Cloud Configλ” λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°€μ§€κ³  μμµλ‹λ‹¤.
1. μ¤‘μ•™ μ§‘μ¤‘μ‹ κµ¬μ„± κ΄€λ¦¬ μ‹μ¤ν…
2. λ³΄μ• λ° κµ¬μ„± μ—…λ°μ΄νΈλ¥Ό μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•μ—¬ λ³΄μ•μ„±μ΄ λ†’μ


## 3. μ™ JasyptμΈκ°€?

μΌλ°μ μΌλ΅ κ°•λ ¥ν• λ³΄μ•μ΄ ν•„μ”ν• κΈ°μ—… λ‹¨μ„μ ν”„λ΅μ νΈμ—μ„λ” Spring Vaultλ‚ Spring Cloud Configμ„ μ£Όλ΅ μ‚¬μ©ν•λ” κ²ƒμΌλ΅ μ•κ³  μμµλ‹λ‹¤.<br>
ν•μ§€λ§ μ μ ν• μΈν”„λΌ λ° ν™κ²½ μ„¤μ •μ΄ ν•„μ”ν•κΈ° λ•λ¬Έμ— κ·λ¨κ°€ μ‘μ€ ν”„λ΅μ νΈμ—μ„λ” μ μ ν•μ§€ μ•μ„ μ μμµλ‹λ‹¤.<br>
μ €ν¬ ν”„λ΅μ νΈλ„ λ³΄μ•μ΄ μ¤‘μ”ν•μ§€λ§, κ·λ¨κ°€ ν¬μ§€ μ•κ³  μ• ν”λ¦¬μΌ€μ΄μ… κ°λ°μ— μ§‘μ¤‘ν•κΈ° μ„ν•΄ λΉ„κµμ  κ°„λ‹¨ν• Properties μ•”νΈν™”μΈ Jasyptλ¥Ό μ‚¬μ©ν•κ² λμ—μµλ‹λ‹¤.
λν• λ‹¤λ¥Έ μ•”νΈν™” λ°©λ²•λ“¤μ— λΉ„ν•΄ λ νΌλ°μ¤κ°€ λ§λ‹¤λ” μ λ„ μ„ νƒν• μ΄μ  μ¤‘ ν•λ‚μ…λ‹λ‹¤.

### μ„ νƒν• Jasypt μ•κ³ λ¦¬μ¦

Jasyptμ—μ„ κ°€μ¥ λ§μ΄ μ‚¬μ©λλ” μ•κ³ λ¦¬μ¦μ€ PBEWithMD5AndDES μ•κ³ λ¦¬μ¦μ…λ‹λ‹¤.<br>
Jasyptμ κΈ°λ³Έ μ•”νΈν™” μ•κ³ λ¦¬μ¦μΌλ΅, μ£Όλ΅ λΉ„λ°€λ²νΈλ‚ λΉ„λ°€ ν‚¤λ¥Ό κΈ°λ°μΌλ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ” λ° μ‚¬μ©λλ” λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μ…λ‹λ‹¤.

## 4. Jasypt λ‚΄λ¶€ λ™μ‘ μ›λ¦¬

Jasyptλ” λ‹¤μκ³Ό κ°™μ€ λ°©μ‹μΌλ΅ properties νμΌμ„ μ•”νΈν™”/λ³µνΈν™”ν•©λ‹λ‹¤.

### μ•”νΈν™”
1. μ•”νΈν™”ν•  λ°μ΄ν„°μ™€ μ•”νΈν™” ν‚¤λ¥Ό μ…λ ¥λ°›μµλ‹λ‹¤.
2. μ…λ ¥λ°›μ€ λ°μ΄ν„°μ™€ ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ„ νƒν• μ•κ³ λ¦¬μ¦(ex. PBEWithMD5AndDES, AES256, ...)μ„ μ΄μ©ν•΄ μ•”νΈν™”ν•©λ‹λ‹¤.
3. μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό μƒμ„±ν•κ³  λ°ν™ν•©λ‹λ‹¤.

### λ³µνΈν™”
1. λ³µνΈν™”ν•  λ°μ΄ν„°μ™€ μ•”νΈν™” ν‚¤λ¥Ό μ…λ ¥λ°›μµλ‹λ‹¤.
2. μ…λ ¥λ°›μ€ λ°μ΄ν„°μ™€ ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ„ νƒν• μ•κ³ λ¦¬μ¦(ex. PBEWithMD5AndDES, AES256, ...)μ„ μ΄μ©ν•΄ λ³µνΈν™”ν•©λ‹λ‹¤.
3. λ³µνΈν™”λ λ°μ΄ν„°λ¥Ό μƒμ„±ν•κ³  λ°ν™ν•©λ‹λ‹¤.

μ•”νΈν™”/λ³µνΈν™” μ‹ λ‹¤μκ³Ό κ°™μ€ ν΄μ„ ν™μ©ν•  μ μμµλ‹λ‹¤.
- [Jasypt Online Encryption and Decryption](https://www.devglan.com/online-tools/jasypt-online-encryption-decryption)
- [Spring Boot Jasypt Plugin](https://plugins.jetbrains.com/plugin/16624-spring-boot-jasypt)

### Spring ν”„λ΅μ νΈμ—μ„ Jasypt λ™μ‘ μ›λ¦¬

Spring μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ Jasyptκ°€ κµ¬λ™λ  λ•μ λ‚΄λ¶€ λ™μ‘ μ›λ¦¬λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1. Spring ν”„λ΅μ νΈμ—μ„ Jasyptλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ μμ΅΄μ„±μ„ μ¶”κ°€ν•©λ‹λ‹¤.
2. μ•”νΈν™”ν•  λ°μ΄ν„°λ¥Ό properties νμΌμ— μ €μ¥ν•©λ‹λ‹¤.
3. Spring ν”„λ΅μ νΈμ—μ„ Jasyptλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ Configuration νμΌμ„ μ¶”κ°€ν•©λ‹λ‹¤.
4. Configuration νμΌμ—μ„ properties νμΌμ— μ €μ¥λ μ•”νΈν™” ν‚¤λ¥Ό μ½μ–΄μ™€ μ•”νΈν™” ν‚¤λ΅ μ„¤μ •ν•©λ‹λ‹¤. (ν™κ²½λ³€μλ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™” ν‚¤λ¥Ό μ„¤μ •ν•©λ‹λ‹¤.)
5. μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤.


## λ§λ¬΄λ¦¬

μ΄λ² ν¬μ¤ν…μ€ Properties μ•”νΈν™”μ ν•„μ”μ„±κ³Ό Jasyptλ¥Ό μ‚¬μ©ν•κ² λ μ΄μ , λ‚΄λ¶€ λ™μ‘ μ›λ¦¬μ— λ€ν• μ†κ°ν•μ€μµλ‹λ‹¤.<br>

μ΄μƒμΌλ΅ Jasyptλ¥Ό μ΄μ©ν• Properties μ•”νΈν™”μ— λ€ν• ν¬μ¤ν…μ„ λ§μΉκ² μµλ‹λ‹¤.π–οΈ<br>
λκΉμ§€ μ½μ–΄μ£Όμ…”μ„ κ°μ‚¬ν•©λ‹λ‹¤.<br>

μ΄ ν¬μ¤ν…μ€ λ‹¤μ λ¬Έν—μ„ μ°Έκ³ ν•μ€μµλ‹λ‹¤.

- [https://github.com/ulisesbocchio/jasypt-spring-boot](https://github.com/ulisesbocchio/jasypt-spring-boot)
- [https://www.baeldung.com/jasypt](https://www.baeldung.com/jasypt)
